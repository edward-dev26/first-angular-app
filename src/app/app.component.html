<div class="container">
  <h1>Angular HTTP Client</h1>

  <div>
    <div class="form-group">
      <input type="email" class="form-control" placeholder="Type name" [(ngModel)]="title">
    </div>
    <button type="submit" class="btn btn-primary mr-3" (click)="addTodo()">Add</button>
    <button type="submit" class="btn btn-success" (click)="fetchTodo()">Fetch Todos</button>
  </div>

  <div class="py-4" *ngIf="!loading; else loadingBlock">
    <div
      class="card d-flex flex-row align-items-center pr-2 mb-2"
      *ngFor="let todo of todos;"
    >
      <div
        class="card-body"
        [class.completed]="todo.completed"
      >
        {{ todo.title | titlecase }}
      </div>
      <div>
        <button *ngIf="!todo.completed" class="btn btn-success mr-3" (click)="completeTodo(todo.id)">Complete</button>
        <button class="btn btn-danger" (click)="deleteTodo(todo.id)">Delete</button>
      </div>
    </div>
  </div>

  <ng-template #loadingBlock>
    <div>
      Loading...
    </div>
  </ng-template>

</div>
